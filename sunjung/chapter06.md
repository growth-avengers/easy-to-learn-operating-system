# CH06 교착상태 
------
# 01 교착 상태의 개요 
## 01 교착 상태의 정의 

> 교착 상태: 2개 이상의 작업이 동시에 이루어지는 경우, 다른 작업이 끝나기만 기다리며 작업을 더 이상 진행하지 못하는 상태 
> - 강압적으로 해결해야 함 

> 아사현상: 잘못된 정책으로 특정 프로세스의 작업이 지연
>   - 교착 상태는 여러 프로세스가 작업을 진행하다 보니 발생하는 자연적인 현상 

교착상태 발생 상황 
1. 시스템 자원 
> - 다른 프로세스와 공유할 수 없는 자원을 사용할 때 
> - 예) 프린터, 스캐너 등 동시에 같이 사용할 수 없는 시스템 자원을 할당받은 후 양보하지 않는 경우 

2. 잠금
> - 무한대기를 막지 못했을 때 잠금을 사용함 
>   - 교착상태가 발생함, 둘다 임계구역에 들어가지 못하기 때문에 
>   - 한 변수를 할당받은 상태에서 다른 변수를 기다릴 때 

3. 응용 프로그램 
> - 데이터베이스가 같은 응용 프로그램 
> - 여러 프로세스가 데이터베이스에 저장된 데이터를 사용할 때는 일관성을 유지해야함 

## 02 자원 할당 그래프 
자원 할당 그래프
> - 자원 할당 그래프: 프로세스가 어떤 자원을 사용 중이고 어떤 자원을 기다리고 있는지를 방향성이 있는 그래프로 표현한 것 

식사하는 철학자 
> 교착상태 발생 조건 
> - 철학자들은 서로 포크를 공유할 수 없음 
> - 각 철학자는 다른 철학자의 포크를 빼앗을 수 없음 
> - 각 철학자는 왼쪽 포크를 잡은 채 오른쪽 포크를 기다림 
> - 자원 할당 그래프가 원형 

# 02 교착상태 필요 조건 
## 교착 상태 필요조건 
1. 상호 배제
> - 한 프로세스가 사용하는 자원은 다른 프로세스와 공유할 수 없는 배타적인 자원 
2. 비선점 
> - 중간에 다른 프로세스가 빼앗을 수 없는 비선점 자원이어야 함 
3. 점유와 대기 
> - 다른 프로세스가 필요로 하는 자원을 점유하면서 또 다른 자원을 기다리는 상태가 되어야 함 
4. 원형 대기 
> - 점유와 대기를 하는 프로세스들이 서로 방해하는 방향이 원을 이루면 프로세스들이 서로 양보하지 않기 때문에 교착 상태에 빠짐 

## 02 식사하는 철학자 문제와 교착 상태 필요조건 
상호 배제
> - 포크: 배타적인 자원 
> - 배타적인 자원을 여러 프로세스가 사용하는 경우 교착 상태가 발생 

비선점
> - 비선점: 비선점 자원을 사용할 때 발생

점유와 대기
> - 점유와 대기: 서로 진행을 방해하지 않고 한 프로세스가 자원을 점유한 상태에서 다른 프로세스의 자원을 기다리면 서로 진행을 방해함

원형 대기 
> - 원형 대기: 선후 관계를 결정할 수 없어 문제가 계속 맴돔 

아사현상 != 교착 상태 
> - 아사현상: 정책상 잘못, 오류로 인한 특정 프로세스의 작업이 이루어지지 않는 것 
>   - 에이징으로 해결 

-----
# 03 교착 상태 해결 방법
 
## 01 교착 상태 해결 
1. 예방 
> - 상호 배제, 비선점, 점유와 대기, 원형 대기를 막음 -> 잘 사용되지는 않음 
2. 회피 
> - 자원 할당량 조절
> - 자원 할당 중단 -> 보장이 없음 
3. 검출
> - 자원 할당 그래프 모니터링, 
4. 회복 

## 02 교착 상태 예방 
1. 상호 배제 예방 
> - 독점적으로 사용할 수 있는 자원을 없애버리는 방법 
2. 비선점 예방
> - 아사 현상 발생 가능성 
3. 점유와 대기 예방
> - 다른 자원을 기다리지 못하게 하는 방법 
> - all or nothing 
> - 전부 할당하거나 아예 할당하지 앙ㄴㅎ는 방식 

4. 원형 대기 예방 
> - 




1. 교착 상태를 검출하는 방법에서 타임아웃에 대해서 설명해라 
2. 교착 상태를 유발하는 필요조건에 대해 설명해라